
{% extends "common/template.njk" %}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "common/fileupload/macro.njk" import fileUpload %}

<div class="govuk-form-group">
{% block page_content %}
<div class="govuk-form-group">
      {% if title %}
        <h1 class="govuk-heading-l">
          <span class="govuk-caption-l">{{caption}} #{{userCase.id}}</span>
          {{ title }}</h1>
      {% endif %}
</div>
{{ fileUpload(
        {
          uploadButtonText: uploadButton,
          fileuploadTitle: 'Upload a file',
          fileuploadTitleClass: "govuk-!-font-weight-bold",
          formPostURL: url,
          fileUploadedHint: uplodFileText1,
          sessionFilesArray: false,
          sessionFiles: uploadedFiles,
          uploadFileHeader: uploadFileHeading,
          sessionNullFilesMessage: noFilesUploaded,
          removeText: remove,
          csrfToken: csrfToken,
          fileremoveURL : removeURL
        }
      ) }}
      <ul id="filesUploadedList" class="govuk-list">
    <dl class="govuk-summary-list">
      {% for file in uploadedFiles %}
            <div class="govuk-summary-list__row">
              <dt class="govuk-summary-list__value">
                {{ file.document_filename }}
              </dt>
              <dd class="govuk-summary-list__actions">
                <a class="govuk-link" href="/delete-document/{{file.id}}?isSos=Yes">
                  {{remove}}</span>
                </a>
              </dd>
            </div>
          {% endfor %}
      </dl>
    </ul>
{% endblock %}
 </div>
